-- ### ðŸ’ª 6ê°• ê°œë… ë‹¤ì§€ê¸°: ì—°ìŠµ ë¬¸ì œ

-- `ORDER BY`ì˜ ë‹¤ì–‘í•œ ê¸°ìˆ ë“¤ì„ ë°°ì› ìœ¼ë‹ˆ, ì´ì œ ì§ì ‘ ë¬¸ì œë¥¼ í’€ì–´ë³´ë©° ì‹¤ë ¥ì„ ë‹¤ì ¸ë´…ì‹œë‹¤!

-- **ë¬¸ì œ 1. ìžê¸°ì†Œê°œ ê¸¸ì´ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê¸°**

-- > USER_PROFILESÂ í…Œì´ë¸”ì—ì„œ ìžê¸°ì†Œê°œ(bio)ì˜ ê¸¸ì´ë¥¼ ê³„ì‚°í•˜ì—¬ 'ì†Œê°œê¸€ê¸¸ì´'ë¼ëŠ” ë³„ëª…ì„ ë¶™ì—¬ì£¼ì„¸ìš”. ê·¸ë¦¬ê³  
-- ì´ 'ì†Œê°œê¸€ê¸¸ì´'ê°€Â ê¸´ ìˆœì„œëŒ€ë¡œÂ ì‚¬ìš©ìžë“¤ì˜Â full_nameê³¼Â bioë¥¼ ì •ë ¬í•˜ì—¬ ì¡°íšŒí•˜ì„¸ìš”.
-- > 

SELECT
    FULL_NAME,
    BIO,
    LENGTH(BIO) AS ì†Œê°œê¸€ê¸¸ì´
FROM USER_PROFILES
ORDER BY ì†Œê°œê¸€ê¸¸ì´ DESC
;

-- **ë¬¸ì œ 2. ëŒ“ê¸€ ë§Žì€ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê¸°**

-- > 5ê°•ì—ì„œ í’€ì—ˆë˜ 'ëŒ“ê¸€ë¶€ìž ê²Œì‹œë¬¼ ì°¾ê¸°' ë¬¸ì œë¥¼ ë‹¤ì‹œ ê°€ì ¸ì™€ë´…ì‹œë‹¤.Â COMMENTSÂ í…Œì´ë¸”ì„Â post_idë¡œ ê·¸ë£¹í™”í•˜ì—¬
--  ê° ê²Œì‹œë¬¼ì˜ ëŒ“ê¸€ ìˆ˜ë¥¼ ê³„ì‚°í•˜ê³ , ê·¸ ëŒ“ê¸€ ìˆ˜ê°€Â ë§Žì€ ìˆœì„œëŒ€ë¡œÂ post_idì™€ ëŒ“ê¸€ ìˆ˜ë¥¼ ì •ë ¬í•˜ì—¬ ë³´ì—¬ì£¼ì„¸ìš”.
-- > 
SELECT
    post_id,
    COUNT(*) AS ëŒ“ê¸€ìˆ˜
FROM COMMENTS
GROUP BY post_id
ORDER BY ëŒ“ê¸€ìˆ˜ DESC
;

-- **ë¬¸ì œ 3. 'photo' ê²Œì‹œë¬¼ ìš°ì„  ì •ë ¬**

-- > POSTSÂ í…Œì´ë¸”ì˜ ëª¨ë“  ê²Œì‹œë¬¼ì„ ì¡°íšŒí•˜ë˜,Â post_typeì´ 'photo'ì¸ ê²Œì‹œë¬¼ì„ ë¬´ì¡°ê±´ ìœ„ë¡œ, 'video'ì¸ ê²Œì‹œë¬¼ì€
--  ì•„ëž˜ë¡œ ì •ë ¬í•˜ê³  ì‹¶ì–´ìš”. ê°™ì€ ì¢…ë¥˜ ë‚´ì—ì„œëŠ” ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬í•´ì£¼ì„¸ìš”. (CASEÂ ì‚¬ìš©)
-- >
SELECT 
    *
FROM POSTS
ORDER BY
    CASE
        WHEN post_type = 'photo' THEN 1
        WHEN post_type = 'video' THEN 2
    END
    , CREATION_DATE DESC
;